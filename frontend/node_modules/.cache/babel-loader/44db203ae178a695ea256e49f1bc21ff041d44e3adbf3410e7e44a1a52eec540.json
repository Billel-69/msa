{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Documents\\\\GitHub\\\\msa\\\\frontend\\\\src\\\\components\\\\PrivateRoute.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = ({\n  children\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    loading\n  } = useAuth();\n  const location = useLocation();\n  console.log('PrivateRoute - Chemin:', location.pathname);\n  console.log('PrivateRoute - Loading:', loading);\n  console.log('PrivateRoute - Authenticated:', isAuthenticated);\n\n  // Pendant le chargement de l'auth, afficher un loader\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        flexDirection: 'column',\n        gap: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '40px',\n          height: '40px',\n          border: '4px solid #f3f3f3',\n          borderTop: '4px solid #3498db',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"V\\xE9rification de l'authentification...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n                    @keyframes spin {\n                        0% { transform: rotate(0deg); }\n                        100% { transform: rotate(360deg); }\n                    }\n                `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Si pas authentifié, rediriger vers la connexion\n  if (!isAuthenticated) {\n    console.log('PrivateRoute - Redirection vers /connexion');\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/connexion\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Si authentifié, afficher le contenu\n  console.log('PrivateRoute - Accès autorisé');\n  return children;\n};\n_s(PrivateRoute, \"fNj96oVmPd4sFazcimgf9N7S8ao=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["React","Navigate","useLocation","useAuth","jsxDEV","_jsxDEV","PrivateRoute","children","_s","isAuthenticated","loading","location","console","log","pathname","style","display","justifyContent","alignItems","height","flexDirection","gap","width","border","borderTop","borderRadius","animation","fileName","_jsxFileName","lineNumber","columnNumber","to","state","from","replace","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Documents/GitHub/msa/frontend/src/components/PrivateRoute.js"],"sourcesContent":["import React from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst PrivateRoute = ({ children }) => {\r\n    const { isAuthenticated, loading } = useAuth();\r\n    const location = useLocation();\r\n\r\n    console.log('PrivateRoute - Chemin:', location.pathname);\r\n    console.log('PrivateRoute - Loading:', loading);\r\n    console.log('PrivateRoute - Authenticated:', isAuthenticated);\r\n\r\n    // Pendant le chargement de l'auth, afficher un loader\r\n    if (loading) {\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                height: '100vh',\r\n                flexDirection: 'column',\r\n                gap: '1rem'\r\n            }}>\r\n                <div style={{\r\n                    width: '40px',\r\n                    height: '40px',\r\n                    border: '4px solid #f3f3f3',\r\n                    borderTop: '4px solid #3498db',\r\n                    borderRadius: '50%',\r\n                    animation: 'spin 1s linear infinite'\r\n                }}></div>\r\n                <p>Vérification de l'authentification...</p>\r\n                <style>{`\r\n                    @keyframes spin {\r\n                        0% { transform: rotate(0deg); }\r\n                        100% { transform: rotate(360deg); }\r\n                    }\r\n                `}</style>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Si pas authentifié, rediriger vers la connexion\r\n    if (!isAuthenticated) {\r\n        console.log('PrivateRoute - Redirection vers /connexion');\r\n        return <Navigate to=\"/connexion\" state={{ from: location }} replace />;\r\n    }\r\n\r\n    // Si authentifié, afficher le contenu\r\n    console.log('PrivateRoute - Accès autorisé');\r\n    return children;\r\n};\r\n\r\nexport default PrivateRoute;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,SAASC,OAAO,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAM;IAAEC,eAAe;IAAEC;EAAQ,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC9C,MAAMQ,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9BU,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,QAAQ,CAACG,QAAQ,CAAC;EACxDF,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEH,OAAO,CAAC;EAC/CE,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEJ,eAAe,CAAC;;EAE7D;EACA,IAAIC,OAAO,EAAE;IACT,oBACIL,OAAA;MAAKU,KAAK,EAAE;QACRC,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,QAAQ;QACxBC,UAAU,EAAE,QAAQ;QACpBC,MAAM,EAAE,OAAO;QACfC,aAAa,EAAE,QAAQ;QACvBC,GAAG,EAAE;MACT,CAAE;MAAAd,QAAA,gBACEF,OAAA;QAAKU,KAAK,EAAE;UACRO,KAAK,EAAE,MAAM;UACbH,MAAM,EAAE,MAAM;UACdI,MAAM,EAAE,mBAAmB;UAC3BC,SAAS,EAAE,mBAAmB;UAC9BC,YAAY,EAAE,KAAK;UACnBC,SAAS,EAAE;QACf;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACTzB,OAAA;QAAAE,QAAA,EAAG;MAAqC;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAC5CzB,OAAA;QAAAE,QAAA,EAAQ;AACxB;AACA;AACA;AACA;AACA;MAAiB;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC;EAEd;;EAEA;EACA,IAAI,CAACrB,eAAe,EAAE;IAClBG,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;IACzD,oBAAOR,OAAA,CAACJ,QAAQ;MAAC8B,EAAE,EAAC,YAAY;MAACC,KAAK,EAAE;QAAEC,IAAI,EAAEtB;MAAS,CAAE;MAACuB,OAAO;IAAA;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC1E;;EAEA;EACAlB,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;EAC5C,OAAON,QAAQ;AACnB,CAAC;AAACC,EAAA,CA/CIF,YAAY;EAAA,QACuBH,OAAO,EAC3BD,WAAW;AAAA;AAAAiC,EAAA,GAF1B7B,YAAY;AAiDlB,eAAeA,YAAY;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}