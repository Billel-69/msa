{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Documents\\\\GitHub\\\\msa\\\\frontend\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { FaUser, FaEdit, FaCamera, FaTrophy, FaStar, FaGamepad, FaUserPlus, FaUsers, FaHeart, FaComment, FaGem, FaChevronLeft, FaChevronRight, FaExclamationCircle } from 'react-icons/fa';\nimport './Profile.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Profile() {\n  _s();\n  var _profileData$name;\n  const [profileData, setProfileData] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [stats, setStats] = useState({\n    followers: 0,\n    following: 0,\n    posts: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('overview'); // overview, posts, stats\n  const [notification, setNotification] = useState({\n    show: false,\n    message: '',\n    type: 'info'\n  });\n  const [postsPage, setPostsPage] = useState(1);\n  const [totalPostsPages, setTotalPostsPages] = useState(1);\n  const [achievements, setAchievements] = useState([]);\n  const [loadingStates, setLoadingStates] = useState({\n    profile: true,\n    posts: true,\n    stats: true,\n    achievements: true\n  });\n  const POSTS_PER_PAGE = 6;\n  const {\n    user,\n    token\n  } = useAuth();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!user) {\n      navigate('/connexion');\n      return;\n    }\n\n    // Fetch all data in parallel\n    const fetchAllData = async () => {\n      setLoading(true);\n      try {\n        await Promise.all([fetchProfileData(), fetchUserPosts(), fetchUserStats(), fetchAchievements()]);\n      } catch (error) {\n        console.error('Error fetching profile data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAllData();\n  }, [user, token, navigate]);\n  const showNotification = useCallback((message, type = 'info') => {\n    setNotification({\n      show: true,\n      message,\n      type\n    });\n    setTimeout(() => {\n      setNotification({\n        show: false,\n        message: '',\n        type: 'info'\n      });\n    }, 3000);\n  }, []);\n  const fetchProfileData = async () => {\n    setLoadingStates(prev => ({\n      ...prev,\n      profile: true\n    }));\n    try {\n      const response = await axios.get('http://localhost:5000/api/auth/me', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setProfileData(response.data);\n    } catch (error) {\n      console.error('Erreur lors de la récupération du profil:', error);\n      showNotification('Erreur lors du chargement du profil', 'error');\n    } finally {\n      setLoadingStates(prev => ({\n        ...prev,\n        profile: false\n      }));\n    }\n  };\n  const fetchUserPosts = async (page = 1) => {\n    setLoadingStates(prev => ({\n      ...prev,\n      posts: true\n    }));\n    try {\n      const response = await axios.get(`http://localhost:5000/api/posts/user/${user.id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        params: {\n          page,\n          limit: POSTS_PER_PAGE\n        }\n      });\n      setPosts(response.data.posts || response.data || []);\n      setTotalPostsPages(response.data.totalPages || Math.ceil((response.data.length || 0) / POSTS_PER_PAGE));\n      setPostsPage(page);\n    } catch (error) {\n      console.error('Erreur lors de la récupération des posts:', error);\n      setPosts([]);\n      showNotification('Erreur lors du chargement des publications', 'error');\n    } finally {\n      setLoadingStates(prev => ({\n        ...prev,\n        posts: false\n      }));\n    }\n  };\n  const fetchUserStats = async () => {\n    setLoadingStates(prev => ({\n      ...prev,\n      stats: true\n    }));\n    try {\n      const [followersRes, followingRes, postsRes] = await Promise.all([axios.get('http://localhost:5000/api/auth/followers', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }), axios.get('http://localhost:5000/api/auth/following', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }), axios.get(`http://localhost:5000/api/posts/user/${user.id}/count`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).catch(() => ({\n        data: {\n          count: 0\n        }\n      }))]);\n      setStats({\n        followers: followersRes.data.length || 0,\n        following: followingRes.data.length || 0,\n        posts: postsRes.data.count || posts.length || 0\n      });\n    } catch (error) {\n      console.error('Erreur lors de la récupération des statistiques:', error);\n      setStats({\n        followers: 0,\n        following: 0,\n        posts: 0\n      });\n      showNotification('Erreur lors du chargement des statistiques', 'error');\n    } finally {\n      setLoadingStates(prev => ({\n        ...prev,\n        stats: false\n      }));\n    }\n  };\n  const fetchAchievements = async () => {\n    setLoadingStates(prev => ({\n      ...prev,\n      achievements: true\n    }));\n    try {\n      const response = await axios.get(`http://localhost:5000/api/achievements/user/${user.id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setAchievements(response.data || []);\n    } catch (error) {\n      console.error('Erreur lors de la récupération des accomplissements:', error);\n      setAchievements([]);\n    } finally {\n      setLoadingStates(prev => ({\n        ...prev,\n        achievements: false\n      }));\n    }\n  };\n  const handleProfilePictureUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Validate file size (max 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      showNotification('La taille du fichier ne doit pas dépasser 5MB', 'error');\n      return;\n    }\n\n    // Validate file type\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n    if (!allowedTypes.includes(file.type)) {\n      showNotification('Format de fichier non supporté. Utilisez JPG, PNG, GIF ou WebP', 'error');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('profilePicture', file);\n    try {\n      showNotification('Téléchargement en cours...', 'info');\n      await axios.put('http://localhost:5000/api/auth/me/profile-picture', formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Mettre à jour les données du profil\n      await fetchProfileData();\n      showNotification('Photo de profil mise à jour avec succès!', 'success');\n    } catch (error) {\n      console.error('Erreur lors de la mise à jour de la photo:', error);\n      showNotification('Erreur lors de la mise à jour de la photo', 'error');\n    }\n  };\n  if (loading || !profileData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-page loading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Chargement du profil...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this);\n  }\n  const renderOverviewTab = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overview-tab\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(FaTrophy, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Niveau\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: profileData.level || 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), profileData.xpToNextLevel !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"level-progress\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-fill\",\n                style: {\n                  width: `${(profileData.currentLevelXP || 0) / (profileData.nextLevelXP || 1) * 100}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"progress-text\",\n              children: [profileData.xpToNextLevel || 0, \" XP jusqu'au prochain niveau\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(FaStar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"XP Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: profileData.totalXP || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(FaGem, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Fragments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: profileData.fragments || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(FaGamepad, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Qu\\xEAtes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: profileData.quests_completed || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(FaUsers, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Abonn\\xE9s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: stats.followers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recent-achievements\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Derniers accomplissements\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this), loadingStates.achievements ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Chargement des accomplissements...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 21\n      }, this) : achievements.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"achievements-list\",\n        children: achievements.slice(0, 3).map(achievement => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"achievement-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"achievement-icon\",\n            children: achievement.icon || '🏆'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"achievement-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: achievement.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: achievement.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: new Date(achievement.earned_at).toLocaleDateString('fr-FR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 33\n          }, this)]\n        }, achievement.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-achievements\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Aucun accomplissement pour le moment. Continue tes qu\\xEAtes!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-actions\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/modifier-profil\",\n        className: \"action-btn primary\",\n        children: [/*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this), \" Modifier le profil\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }, this), user.accountType === 'parent' && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/parent-dashboard\",\n        className: \"action-btn secondary\",\n        children: [/*#__PURE__*/_jsxDEV(FaUserPlus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 25\n        }, this), \" Gestion Enfants\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/reseau\",\n        className: \"action-btn secondary\",\n        children: [/*#__PURE__*/_jsxDEV(FaUsers, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }, this), \" R\\xE9seau Social\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 9\n  }, this);\n  const renderPostsTab = useMemo(() => () => {\n    const startIndex = (postsPage - 1) * POSTS_PER_PAGE;\n    const paginatedPosts = posts.slice(startIndex, startIndex + POSTS_PER_PAGE);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"posts-tab\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"posts-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Mes publications (\", stats.posts, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/create-post\",\n          className: \"create-post-btn\",\n          children: [/*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this), \" Nouvelle publication\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }, this), loadingStates.posts ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Chargement des publications...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 21\n      }, this) : posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-posts\",\n        children: [/*#__PURE__*/_jsxDEV(FaComment, {\n          className: \"no-posts-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Aucune publication\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Partagez vos premiers moments avec la communaut\\xE9 !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/create-post\",\n          className: \"action-btn primary\",\n          children: \"Cr\\xE9er ma premi\\xE8re publication\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"posts-grid\",\n          children: paginatedPosts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-preview\",\n            children: [post.image && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:5000/uploads/${encodeURIComponent(post.image)}`,\n                alt: `Publication de ${(profileData === null || profileData === void 0 ? void 0 : profileData.name) || 'utilisateur'}`,\n                loading: \"lazy\",\n                onError: e => {\n                  e.target.style.display = 'none';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: post.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-stats\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaHeart, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 51\n                  }, this), \" \", post.likeCount || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaComment, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 51\n                  }, this), \" \", post.commentCount || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 37\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 25\n        }, this), totalPostsPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"pagination-btn\",\n            onClick: () => fetchUserPosts(postsPage - 1),\n            disabled: postsPage === 1,\n            children: /*#__PURE__*/_jsxDEV(FaChevronLeft, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pagination-info\",\n            children: [\"Page \", postsPage, \" sur \", totalPostsPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"pagination-btn\",\n            onClick: () => fetchUserPosts(postsPage + 1),\n            disabled: postsPage === totalPostsPages,\n            children: /*#__PURE__*/_jsxDEV(FaChevronRight, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }, this);\n  }, [posts, postsPage, totalPostsPages, stats.posts, profileData, loadingStates.posts]);\n  const renderStatsTab = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stats-tab\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detailed-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Statistiques de jeu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Temps de jeu total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: \"24h 30m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Qu\\xEAtes compl\\xE9t\\xE9es\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: profileData.quests_completed || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Fragments collect\\xE9s\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: profileData.fragments || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Rang actuel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: profileData.rank || 'Débutant'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Statistiques sociales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Abonn\\xE9s\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: stats.followers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Abonnements\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: stats.following\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Publications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: stats.posts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Membre depuis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: new Date(profileData.created_at || Date.now()).toLocaleDateString('fr-FR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 423,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page\",\n    children: [notification.show && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification notification-${notification.type}`,\n      children: [notification.type === 'error' && /*#__PURE__*/_jsxDEV(FaExclamationCircle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 55\n      }, this), notification.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-cover\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-avatar-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-avatar\",\n            children: [profileData.profilePicture ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `http://localhost:5000/uploads/${encodeURIComponent(profileData.profilePicture)}`,\n              alt: `Photo de profil de ${profileData.name}`,\n              onError: e => {\n                e.target.style.display = 'none';\n                e.target.nextSibling.style.display = 'flex';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-placeholder\",\n              children: ((_profileData$name = profileData.name) === null || _profileData$name === void 0 ? void 0 : _profileData$name.charAt(0).toUpperCase()) || '?'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"avatar-upload\",\n              htmlFor: \"avatar-upload-input\",\n              \"aria-label\": \"T\\xE9l\\xE9charger une photo de profil\",\n              children: [/*#__PURE__*/_jsxDEV(FaCamera, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"avatar-upload-input\",\n                type: \"file\",\n                accept: \"image/jpeg,image/png,image/gif,image/webp\",\n                onChange: handleProfilePictureUpload,\n                style: {\n                  display: 'none'\n                },\n                \"aria-label\": \"S\\xE9lectionner une photo de profil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: profileData.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"username\",\n              children: [\"@\", profileData.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"account-type\",\n              children: [\"Compte \", profileData.accountType === 'child' ? 'Enfant' : profileData.accountType === 'parent' ? 'Parent' : 'Professeur']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-quick-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Niveau \", profileData.level || 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [profileData.totalXP || 0, \" XP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [profileData.fragments || 0, \" fragments\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [stats.followers, \" abonn\\xE9s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'overview' ? 'active' : ''}`,\n          onClick: () => setActiveTab('overview'),\n          children: [/*#__PURE__*/_jsxDEV(FaUser, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 25\n          }, this), \" Vue d'ensemble\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'posts' ? 'active' : ''}`,\n          onClick: () => setActiveTab('posts'),\n          children: [/*#__PURE__*/_jsxDEV(FaComment, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 25\n          }, this), \" Publications\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'stats' ? 'active' : ''}`,\n          onClick: () => setActiveTab('stats'),\n          children: [/*#__PURE__*/_jsxDEV(FaTrophy, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 25\n          }, this), \" Statistiques\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-content\",\n        children: [activeTab === 'overview' && renderOverviewTab(), activeTab === 'posts' && renderPostsTab(), activeTab === 'stats' && renderStatsTab()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 475,\n    columnNumber: 9\n  }, this);\n}\n_s(Profile, \"9vQ6ewXFr/K5sRQtlzvwnJ6UBIk=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","axios","useAuth","useNavigate","Link","FaUser","FaEdit","FaCamera","FaTrophy","FaStar","FaGamepad","FaUserPlus","FaUsers","FaHeart","FaComment","FaGem","FaChevronLeft","FaChevronRight","FaExclamationCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","_profileData$name","profileData","setProfileData","posts","setPosts","stats","setStats","followers","following","loading","setLoading","activeTab","setActiveTab","notification","setNotification","show","message","type","postsPage","setPostsPage","totalPostsPages","setTotalPostsPages","achievements","setAchievements","loadingStates","setLoadingStates","profile","POSTS_PER_PAGE","user","token","navigate","fetchAllData","Promise","all","fetchProfileData","fetchUserPosts","fetchUserStats","fetchAchievements","error","console","showNotification","setTimeout","prev","response","get","headers","Authorization","data","page","id","params","limit","totalPages","Math","ceil","length","followersRes","followingRes","postsRes","catch","count","handleProfilePictureUpload","event","file","target","files","size","allowedTypes","includes","formData","FormData","append","put","className","children","fileName","_jsxFileName","lineNumber","columnNumber","renderOverviewTab","level","xpToNextLevel","undefined","style","width","currentLevelXP","nextLevelXP","totalXP","fragments","quests_completed","slice","map","achievement","icon","name","description","Date","earned_at","toLocaleDateString","to","accountType","renderPostsTab","startIndex","paginatedPosts","post","image","src","encodeURIComponent","alt","onError","e","display","content","likeCount","commentCount","onClick","disabled","renderStatsTab","rank","created_at","now","profilePicture","nextSibling","charAt","toUpperCase","htmlFor","accept","onChange","username","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Documents/GitHub/msa/frontend/src/pages/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport {\r\n    FaUser,\r\n    FaEdit,\r\n    FaCamera,\r\n    FaTrophy,\r\n    FaStar,\r\n    FaGamepad,\r\n    FaUserPlus,\r\n    FaUsers,\r\n    FaHeart,\r\n    FaComment,\r\n    FaGem,\r\n    FaChevronLeft,\r\n    FaChevronRight,\r\n    FaExclamationCircle\r\n} from 'react-icons/fa';\r\nimport './Profile.css';\r\n\r\nfunction Profile() {\r\n    const [profileData, setProfileData] = useState(null);\r\n    const [posts, setPosts] = useState([]);\r\n    const [stats, setStats] = useState({\r\n        followers: 0,\r\n        following: 0,\r\n        posts: 0\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeTab, setActiveTab] = useState('overview'); // overview, posts, stats\r\n    const [notification, setNotification] = useState({ show: false, message: '', type: 'info' });\r\n    const [postsPage, setPostsPage] = useState(1);\r\n    const [totalPostsPages, setTotalPostsPages] = useState(1);\r\n    const [achievements, setAchievements] = useState([]);\r\n    const [loadingStates, setLoadingStates] = useState({\r\n        profile: true,\r\n        posts: true,\r\n        stats: true,\r\n        achievements: true\r\n    });\r\n    const POSTS_PER_PAGE = 6;\r\n\r\n    const { user, token } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            navigate('/connexion');\r\n            return;\r\n        }\r\n        \r\n        // Fetch all data in parallel\r\n        const fetchAllData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                await Promise.all([\r\n                    fetchProfileData(),\r\n                    fetchUserPosts(),\r\n                    fetchUserStats(),\r\n                    fetchAchievements()\r\n                ]);\r\n            } catch (error) {\r\n                console.error('Error fetching profile data:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        \r\n        fetchAllData();\r\n    }, [user, token, navigate]);\r\n\r\n    const showNotification = useCallback((message, type = 'info') => {\r\n        setNotification({ show: true, message, type });\r\n        setTimeout(() => {\r\n            setNotification({ show: false, message: '', type: 'info' });\r\n        }, 3000);\r\n    }, []);\r\n\r\n    const fetchProfileData = async () => {\r\n        setLoadingStates(prev => ({ ...prev, profile: true }));\r\n        try {\r\n            const response = await axios.get(\r\n                'http://localhost:5000/api/auth/me',\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }\r\n            );\r\n            setProfileData(response.data);\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération du profil:', error);\r\n            showNotification('Erreur lors du chargement du profil', 'error');\r\n        } finally {\r\n            setLoadingStates(prev => ({ ...prev, profile: false }));\r\n        }\r\n    };\r\n\r\n    const fetchUserPosts = async (page = 1) => {\r\n        setLoadingStates(prev => ({ ...prev, posts: true }));\r\n        try {\r\n            const response = await axios.get(\r\n                `http://localhost:5000/api/posts/user/${user.id}`,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` },\r\n                    params: {\r\n                        page,\r\n                        limit: POSTS_PER_PAGE\r\n                    }\r\n                }\r\n            );\r\n            setPosts(response.data.posts || response.data || []);\r\n            setTotalPostsPages(response.data.totalPages || Math.ceil((response.data.length || 0) / POSTS_PER_PAGE));\r\n            setPostsPage(page);\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des posts:', error);\r\n            setPosts([]);\r\n            showNotification('Erreur lors du chargement des publications', 'error');\r\n        } finally {\r\n            setLoadingStates(prev => ({ ...prev, posts: false }));\r\n        }\r\n    };\r\n\r\n    const fetchUserStats = async () => {\r\n        setLoadingStates(prev => ({ ...prev, stats: true }));\r\n        try {\r\n            const [followersRes, followingRes, postsRes] = await Promise.all([\r\n                axios.get('http://localhost:5000/api/auth/followers', {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }),\r\n                axios.get('http://localhost:5000/api/auth/following', {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }),\r\n                axios.get(`http://localhost:5000/api/posts/user/${user.id}/count`, {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }).catch(() => ({ data: { count: 0 } }))\r\n            ]);\r\n\r\n            setStats({\r\n                followers: followersRes.data.length || 0,\r\n                following: followingRes.data.length || 0,\r\n                posts: postsRes.data.count || posts.length || 0\r\n            });\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des statistiques:', error);\r\n            setStats({ followers: 0, following: 0, posts: 0 });\r\n            showNotification('Erreur lors du chargement des statistiques', 'error');\r\n        } finally {\r\n            setLoadingStates(prev => ({ ...prev, stats: false }));\r\n        }\r\n    };\r\n\r\n    const fetchAchievements = async () => {\r\n        setLoadingStates(prev => ({ ...prev, achievements: true }));\r\n        try {\r\n            const response = await axios.get(\r\n                `http://localhost:5000/api/achievements/user/${user.id}`,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }\r\n            );\r\n            setAchievements(response.data || []);\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des accomplissements:', error);\r\n            setAchievements([]);\r\n        } finally {\r\n            setLoadingStates(prev => ({ ...prev, achievements: false }));\r\n        }\r\n    };\r\n\r\n    const handleProfilePictureUpload = async (event) => {\r\n        const file = event.target.files[0];\r\n        if (!file) return;\r\n\r\n        // Validate file size (max 5MB)\r\n        if (file.size > 5 * 1024 * 1024) {\r\n            showNotification('La taille du fichier ne doit pas dépasser 5MB', 'error');\r\n            return;\r\n        }\r\n\r\n        // Validate file type\r\n        const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\r\n        if (!allowedTypes.includes(file.type)) {\r\n            showNotification('Format de fichier non supporté. Utilisez JPG, PNG, GIF ou WebP', 'error');\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append('profilePicture', file);\r\n\r\n        try {\r\n            showNotification('Téléchargement en cours...', 'info');\r\n            \r\n            await axios.put(\r\n                'http://localhost:5000/api/auth/me/profile-picture',\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                        'Content-Type': 'multipart/form-data'\r\n                    }\r\n                }\r\n            );\r\n\r\n            // Mettre à jour les données du profil\r\n            await fetchProfileData();\r\n            showNotification('Photo de profil mise à jour avec succès!', 'success');\r\n        } catch (error) {\r\n            console.error('Erreur lors de la mise à jour de la photo:', error);\r\n            showNotification('Erreur lors de la mise à jour de la photo', 'error');\r\n        }\r\n    };\r\n\r\n    if (loading || !profileData) {\r\n        return (\r\n            <div className=\"profile-page loading\">\r\n                <div className=\"loading-spinner\">\r\n                    <div className=\"spinner\"></div>\r\n                    <p>Chargement du profil...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderOverviewTab = () => (\r\n        <div className=\"overview-tab\">\r\n            <div className=\"profile-stats\">\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon\">\r\n                        <FaTrophy />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>Niveau</h3>\r\n                        <p className=\"stat-value\">{profileData.level || 1}</p>\r\n                        {profileData.xpToNextLevel !== undefined && (\r\n                            <div className=\"level-progress\">\r\n                                <div className=\"progress-bar\">\r\n                                    <div \r\n                                        className=\"progress-fill\" \r\n                                        style={{ \r\n                                            width: `${((profileData.currentLevelXP || 0) / (profileData.nextLevelXP || 1)) * 100}%` \r\n                                        }}\r\n                                    ></div>\r\n                                </div>\r\n                                <small className=\"progress-text\">\r\n                                    {profileData.xpToNextLevel || 0} XP jusqu'au prochain niveau\r\n                                </small>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon\">\r\n                        <FaStar />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>XP Total</h3>\r\n                        <p className=\"stat-value\">{profileData.totalXP || 0}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon\">\r\n                        <FaGem />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>Fragments</h3>\r\n                        <p className=\"stat-value\">{profileData.fragments || 0}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon\">\r\n                        <FaGamepad />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>Quêtes</h3>\r\n                        <p className=\"stat-value\">{profileData.quests_completed || 0}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon\">\r\n                        <FaUsers />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>Abonnés</h3>\r\n                        <p className=\"stat-value\">{stats.followers}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"recent-achievements\">\r\n                <h3>Derniers accomplissements</h3>\r\n                {loadingStates.achievements ? (\r\n                    <div className=\"loading-section\">\r\n                        <div className=\"spinner-small\"></div>\r\n                        <p>Chargement des accomplissements...</p>\r\n                    </div>\r\n                ) : achievements.length > 0 ? (\r\n                    <div className=\"achievements-list\">\r\n                        {achievements.slice(0, 3).map((achievement) => (\r\n                            <div key={achievement.id} className=\"achievement-item\">\r\n                                <div className=\"achievement-icon\">{achievement.icon || '🏆'}</div>\r\n                                <div className=\"achievement-details\">\r\n                                    <h4>{achievement.name}</h4>\r\n                                    <p>{achievement.description}</p>\r\n                                    <small>{new Date(achievement.earned_at).toLocaleDateString('fr-FR')}</small>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"no-achievements\">\r\n                        <p>Aucun accomplissement pour le moment. Continue tes quêtes!</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Boutons d'action selon le type de compte */}\r\n            <div className=\"profile-actions\">\r\n                <Link to=\"/modifier-profil\" className=\"action-btn primary\">\r\n                    <FaEdit /> Modifier le profil\r\n                </Link>\r\n\r\n                {user.accountType === 'parent' && (\r\n                    <Link to=\"/parent-dashboard\" className=\"action-btn secondary\">\r\n                        <FaUserPlus /> Gestion Enfants\r\n                    </Link>\r\n                )}\r\n\r\n                <Link to=\"/reseau\" className=\"action-btn secondary\">\r\n                    <FaUsers /> Réseau Social\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderPostsTab = useMemo(() => () => {\r\n        const startIndex = (postsPage - 1) * POSTS_PER_PAGE;\r\n        const paginatedPosts = posts.slice(startIndex, startIndex + POSTS_PER_PAGE);\r\n\r\n        return (\r\n            <div className=\"posts-tab\">\r\n                <div className=\"posts-header\">\r\n                    <h3>Mes publications ({stats.posts})</h3>\r\n                    <Link to=\"/create-post\" className=\"create-post-btn\">\r\n                        <FaEdit /> Nouvelle publication\r\n                    </Link>\r\n                </div>\r\n\r\n                {loadingStates.posts ? (\r\n                    <div className=\"loading-section\">\r\n                        <div className=\"spinner\"></div>\r\n                        <p>Chargement des publications...</p>\r\n                    </div>\r\n                ) : posts.length === 0 ? (\r\n                <div className=\"no-posts\">\r\n                    <FaComment className=\"no-posts-icon\" />\r\n                    <h4>Aucune publication</h4>\r\n                    <p>Partagez vos premiers moments avec la communauté !</p>\r\n                    <Link to=\"/create-post\" className=\"action-btn primary\">\r\n                        Créer ma première publication\r\n                    </Link>\r\n                </div>\r\n                ) : (\r\n                    <>\r\n                        <div className=\"posts-grid\">\r\n                            {paginatedPosts.map((post) => (\r\n                                <div key={post.id} className=\"post-preview\">\r\n                                    {post.image && (\r\n                                        <div className=\"post-image\">\r\n                                            <img\r\n                                                src={`http://localhost:5000/uploads/${encodeURIComponent(post.image)}`}\r\n                                                alt={`Publication de ${profileData?.name || 'utilisateur'}`}\r\n                                                loading=\"lazy\"\r\n                                                onError={(e) => {\r\n                                                    e.target.style.display = 'none';\r\n                                                }}\r\n                                            />\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"post-content\">\r\n                                        <p>{post.content}</p>\r\n                                        <div className=\"post-stats\">\r\n                                            <span><FaHeart /> {post.likeCount || 0}</span>\r\n                                            <span><FaComment /> {post.commentCount || 0}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        \r\n                        {totalPostsPages > 1 && (\r\n                            <div className=\"pagination\">\r\n                                <button\r\n                                    className=\"pagination-btn\"\r\n                                    onClick={() => fetchUserPosts(postsPage - 1)}\r\n                                    disabled={postsPage === 1}\r\n                                >\r\n                                    <FaChevronLeft />\r\n                                </button>\r\n                                <span className=\"pagination-info\">\r\n                                    Page {postsPage} sur {totalPostsPages}\r\n                                </span>\r\n                                <button\r\n                                    className=\"pagination-btn\"\r\n                                    onClick={() => fetchUserPosts(postsPage + 1)}\r\n                                    disabled={postsPage === totalPostsPages}\r\n                                >\r\n                                    <FaChevronRight />\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </>\r\n                )}\r\n            </div>\r\n        );\r\n    }, [posts, postsPage, totalPostsPages, stats.posts, profileData, loadingStates.posts]);\r\n\r\n    const renderStatsTab = () => (\r\n        <div className=\"stats-tab\">\r\n            <div className=\"detailed-stats\">\r\n                <div className=\"stats-section\">\r\n                    <h3>Statistiques de jeu</h3>\r\n                    <div className=\"stats-grid\">\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Temps de jeu total</span>\r\n                            <span className=\"stat-value\">24h 30m</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Quêtes complétées</span>\r\n                            <span className=\"stat-value\">{profileData.quests_completed || 0}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Fragments collectés</span>\r\n                            <span className=\"stat-value\">{profileData.fragments || 0}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Rang actuel</span>\r\n                            <span className=\"stat-value\">{profileData.rank || 'Débutant'}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stats-section\">\r\n                    <h3>Statistiques sociales</h3>\r\n                    <div className=\"stats-grid\">\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Abonnés</span>\r\n                            <span className=\"stat-value\">{stats.followers}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Abonnements</span>\r\n                            <span className=\"stat-value\">{stats.following}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Publications</span>\r\n                            <span className=\"stat-value\">{stats.posts}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Membre depuis</span>\r\n                            <span className=\"stat-value\">\r\n                                {new Date(profileData.created_at || Date.now()).toLocaleDateString('fr-FR')}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"profile-page\">\r\n            {notification.show && (\r\n                <div className={`notification notification-${notification.type}`}>\r\n                    {notification.type === 'error' && <FaExclamationCircle />}\r\n                    {notification.message}\r\n                </div>\r\n            )}\r\n            <div className=\"profile-header\">\r\n                <div className=\"profile-cover\">\r\n                    <div className=\"profile-avatar-section\">\r\n                        <div className=\"profile-avatar\">\r\n                            {profileData.profilePicture ? (\r\n                                <img\r\n                                    src={`http://localhost:5000/uploads/${encodeURIComponent(profileData.profilePicture)}`}\r\n                                    alt={`Photo de profil de ${profileData.name}`}\r\n                                    onError={(e) => {\r\n                                        e.target.style.display = 'none';\r\n                                        e.target.nextSibling.style.display = 'flex';\r\n                                    }}\r\n                                />\r\n                            ) : (\r\n                                <div className=\"avatar-placeholder\">\r\n                                    {profileData.name?.charAt(0).toUpperCase() || '?'}\r\n                                </div>\r\n                            )}\r\n                            <label className=\"avatar-upload\" htmlFor=\"avatar-upload-input\" aria-label=\"Télécharger une photo de profil\">\r\n                                <FaCamera />\r\n                                <input\r\n                                    id=\"avatar-upload-input\"\r\n                                    type=\"file\"\r\n                                    accept=\"image/jpeg,image/png,image/gif,image/webp\"\r\n                                    onChange={handleProfilePictureUpload}\r\n                                    style={{ display: 'none' }}\r\n                                    aria-label=\"Sélectionner une photo de profil\"\r\n                                />\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div className=\"profile-info\">\r\n                            <h1>{profileData.name}</h1>\r\n                            <p className=\"username\">@{profileData.username}</p>\r\n                            <p className=\"account-type\">\r\n                                Compte {profileData.accountType === 'child' ? 'Enfant' :\r\n                                profileData.accountType === 'parent' ? 'Parent' : 'Professeur'}\r\n                            </p>\r\n                            <div className=\"profile-quick-stats\">\r\n                                <span>Niveau {profileData.level || 1}</span>\r\n                                <span>•</span>\r\n                                <span>{profileData.totalXP || 0} XP</span>\r\n                                <span>•</span>\r\n                                <span>{profileData.fragments || 0} fragments</span>\r\n                                <span>•</span>\r\n                                <span>{stats.followers} abonnés</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"profile-content\">\r\n                <div className=\"profile-tabs\">\r\n                    <button\r\n                        className={`tab-btn ${activeTab === 'overview' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('overview')}\r\n                    >\r\n                        <FaUser /> Vue d'ensemble\r\n                    </button>\r\n                    <button\r\n                        className={`tab-btn ${activeTab === 'posts' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('posts')}\r\n                    >\r\n                        <FaComment /> Publications\r\n                    </button>\r\n                    <button\r\n                        className={`tab-btn ${activeTab === 'stats' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('stats')}\r\n                    >\r\n                        <FaTrophy /> Statistiques\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"tab-content\">\r\n                    {activeTab === 'overview' && renderOverviewTab()}\r\n                    {activeTab === 'posts' && renderPostsTab()}\r\n                    {activeTab === 'stats' && renderStatsTab()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}