{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Documents\\\\GitHub\\\\msa\\\\frontend\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { FaUser, FaEdit, FaCamera, FaTrophy, FaStar, FaGamepad, FaUserPlus, FaUsers, FaHeart, FaComment, FaGem, FaChevronLeft, FaChevronRight, FaExclamationCircle } from 'react-icons/fa';\nimport './Profile.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Profile() {\n  _s();\n  var _profileData$name;\n  const [profileData, setProfileData] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [stats, setStats] = useState({\n    followers: 0,\n    following: 0,\n    posts: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('overview'); // overview, posts, stats\n  const [notification, setNotification] = useState({\n    show: false,\n    message: '',\n    type: 'info'\n  });\n  const [postsPage, setPostsPage] = useState(1);\n  const [totalPostsPages, setTotalPostsPages] = useState(1);\n  const [achievements, setAchievements] = useState([]);\n  const [loadingStates, setLoadingStates] = useState({\n    profile: true,\n    posts: true,\n    stats: true,\n    achievements: true\n  });\n  const POSTS_PER_PAGE = 6;\n  const {\n    user,\n    token\n  } = useAuth();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!user) {\n      navigate('/connexion');\n      return;\n    }\n\n    // Fetch all data in parallel\n    const fetchAllData = async () => {\n      setLoading(true);\n      try {\n        await Promise.all([fetchProfileData(), fetchUserPosts(), fetchUserStats(), fetchAchievements()]);\n      } catch (error) {\n        console.error('Error fetching profile data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAllData();\n  }, [user, token, navigate]);\n  const showNotification = useCallback((message, type = 'info') => {\n    setNotification({\n      show: true,\n      message,\n      type\n    });\n    setTimeout(() => {\n      setNotification({\n        show: false,\n        message: '',\n        type: 'info'\n      });\n    }, 3000);\n  }, []);\n  const fetchProfileData = async () => {\n    setLoadingStates(prev => ({\n      ...prev,\n      profile: true\n    }));\n    try {\n      const response = await axios.get('http://localhost:5000/api/auth/me', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setProfileData(response.data);\n    } catch (error) {\n      console.error('Erreur lors de la récupération du profil:', error);\n      showNotification('Erreur lors du chargement du profil', 'error');\n    } finally {\n      setLoadingStates(prev => ({\n        ...prev,\n        profile: false\n      }));\n    }\n  };\n  const fetchUserPosts = async (page = 1) => {\n    setLoadingStates(prev => ({\n      ...prev,\n      posts: true\n    }));\n    try {\n      const response = await axios.get(`http://localhost:5000/api/posts/user/${user.id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        params: {\n          page,\n          limit: POSTS_PER_PAGE\n        }\n      });\n      setPosts(response.data.posts || response.data || []);\n      setTotalPostsPages(response.data.totalPages || Math.ceil((response.data.length || 0) / POSTS_PER_PAGE));\n      setPostsPage(page);\n    } catch (error) {\n      console.error('Erreur lors de la récupération des posts:', error);\n      setPosts([]);\n      showNotification('Erreur lors du chargement des publications', 'error');\n    } finally {\n      setLoadingStates(prev => ({\n        ...prev,\n        posts: false\n      }));\n    }\n  };\n  const fetchUserStats = async () => {\n    setLoadingStates(prev => ({\n      ...prev,\n      stats: true\n    }));\n    try {\n      const [followersRes, followingRes, postsRes] = await Promise.all([axios.get('http://localhost:5000/api/auth/followers', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }), axios.get('http://localhost:5000/api/auth/following', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }), axios.get(`http://localhost:5000/api/posts/user/${user.id}/count`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).catch(() => ({\n        data: {\n          count: 0\n        }\n      }))]);\n      setStats({\n        followers: followersRes.data.length || 0,\n        following: followingRes.data.length || 0,\n        posts: postsRes.data.count || posts.length || 0\n      });\n    } catch (error) {\n      console.error('Erreur lors de la récupération des statistiques:', error);\n      setStats({\n        followers: 0,\n        following: 0,\n        posts: 0\n      });\n      showNotification('Erreur lors du chargement des statistiques', 'error');\n    } finally {\n      setLoadingStates(prev => ({\n        ...prev,\n        stats: false\n      }));\n    }\n  };\n  const fetchAchievements = async () => {\n    setLoadingStates(prev => ({\n      ...prev,\n      achievements: true\n    }));\n    try {\n      const response = await axios.get(`http://localhost:5000/api/achievements/user/${user.id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setAchievements(response.data || []);\n    } catch (error) {\n      console.error('Erreur lors de la récupération des accomplissements:', error);\n      setAchievements([]);\n    } finally {\n      setLoadingStates(prev => ({\n        ...prev,\n        achievements: false\n      }));\n    }\n  };\n  const handleProfilePictureUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Validate file size (max 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      showNotification('La taille du fichier ne doit pas dépasser 5MB', 'error');\n      return;\n    }\n\n    // Validate file type\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n    if (!allowedTypes.includes(file.type)) {\n      showNotification('Format de fichier non supporté. Utilisez JPG, PNG, GIF ou WebP', 'error');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('profilePicture', file);\n    try {\n      showNotification('Téléchargement en cours...', 'info');\n      await axios.put('http://localhost:5000/api/auth/me/profile-picture', formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Mettre à jour les données du profil\n      await fetchProfileData();\n      showNotification('Photo de profil mise à jour avec succès!', 'success');\n    } catch (error) {\n      console.error('Erreur lors de la mise à jour de la photo:', error);\n      showNotification('Erreur lors de la mise à jour de la photo', 'error');\n    }\n  };\n\n  // Skeleton loader component\n  const SkeletonLoader = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton-avatar-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"skeleton skeleton-text large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"skeleton skeleton-text medium\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"skeleton skeleton-text small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"skeleton-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"skeleton skeleton-stat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"skeleton skeleton-stat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"skeleton skeleton-stat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-tab\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-tab\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-tab\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton-cards-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-card large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton skeleton-achievements\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-action\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-action\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton skeleton-action\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 9\n  }, this);\n  if (loading || !profileData) {\n    return /*#__PURE__*/_jsxDEV(SkeletonLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 16\n    }, this);\n  }\n  const renderOverviewTab = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overview-tab\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"profile-stats\",\n      \"aria-label\": \"Statistiques de jeu\",\n      children: [/*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"stat-card\",\n        role: \"article\",\n        \"aria-labelledby\": \"level-heading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          \"aria-hidden\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(FaTrophy, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            id: \"level-heading\",\n            children: \"Niveau\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            \"aria-label\": `Niveau actuel: ${profileData.level || 1}`,\n            children: profileData.level || 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 25\n          }, this), profileData.xpToNextLevel !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"level-progress\",\n            \"aria-label\": \"Progression vers le niveau suivant\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\",\n              role: \"progressbar\",\n              \"aria-valuenow\": profileData.currentLevelXP || 0,\n              \"aria-valuemin\": \"0\",\n              \"aria-valuemax\": profileData.nextLevelXP || 1,\n              \"aria-label\": \"Progression du niveau\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-fill\",\n                style: {\n                  width: `${(profileData.currentLevelXP || 0) / (profileData.nextLevelXP || 1) * 100}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"progress-text\",\n              children: [profileData.xpToNextLevel || 0, \" XP jusqu'au prochain niveau\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"stat-card\",\n        role: \"article\",\n        \"aria-labelledby\": \"xp-heading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          \"aria-hidden\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(FaStar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            id: \"xp-heading\",\n            children: \"XP Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            \"aria-label\": `${profileData.totalXP || 0} points d'expérience au total`,\n            children: profileData.totalXP || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"stat-card\",\n        role: \"article\",\n        \"aria-labelledby\": \"fragments-heading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          \"aria-hidden\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(FaGem, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            id: \"fragments-heading\",\n            children: \"Fragments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            \"aria-label\": `${profileData.fragments || 0} fragments collectés`,\n            children: profileData.fragments || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"stat-card\",\n        role: \"article\",\n        \"aria-labelledby\": \"quests-heading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          \"aria-hidden\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(FaGamepad, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            id: \"quests-heading\",\n            children: \"Qu\\xEAtes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            \"aria-label\": `${profileData.quests_completed || 0} quêtes complétées`,\n            children: profileData.quests_completed || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"stat-card\",\n        role: \"article\",\n        \"aria-labelledby\": \"followers-heading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          \"aria-hidden\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(FaUsers, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            id: \"followers-heading\",\n            children: \"Abonn\\xE9s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            \"aria-label\": `${stats.followers} abonnés`,\n            children: stats.followers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"recent-achievements\",\n      \"aria-labelledby\": \"achievements-heading\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        id: \"achievements-heading\",\n        children: \"Derniers accomplissements\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }, this), loadingStates.achievements ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Chargement des accomplissements...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }, this) : achievements.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"achievements-list\",\n        children: achievements.slice(0, 3).map(achievement => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"achievement-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"achievement-icon\",\n            children: achievement.icon || '🏆'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"achievement-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: achievement.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: achievement.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: new Date(achievement.earned_at).toLocaleDateString('fr-FR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 33\n          }, this)]\n        }, achievement.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-achievements\",\n        role: \"status\",\n        \"aria-label\": \"Aucun accomplissement\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Aucun accomplissement pour le moment. Continue tes qu\\xEAtes!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"profile-actions\",\n      \"aria-label\": \"Actions du profil\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/modifier-profil\",\n        className: \"action-btn primary\",\n        \"aria-label\": \"Modifier les informations du profil\",\n        children: [/*#__PURE__*/_jsxDEV(FaEdit, {\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 21\n        }, this), \" Modifier le profil\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }, this), user.accountType === 'parent' && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/parent-dashboard\",\n        className: \"action-btn secondary\",\n        \"aria-label\": \"Acc\\xE9der au tableau de bord parental\",\n        children: [/*#__PURE__*/_jsxDEV(FaUserPlus, {\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 25\n        }, this), \" Gestion Enfants\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/reseau\",\n        className: \"action-btn secondary\",\n        \"aria-label\": \"Acc\\xE9der au r\\xE9seau social\",\n        children: [/*#__PURE__*/_jsxDEV(FaUsers, {\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this), \" R\\xE9seau Social\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 9\n  }, this);\n  const renderPostsTab = () => {\n    const startIndex = (postsPage - 1) * POSTS_PER_PAGE;\n    const paginatedPosts = posts.slice(startIndex, startIndex + POSTS_PER_PAGE);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"posts-tab\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"posts-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Mes publications (\", stats.posts, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/create-post\",\n          className: \"create-post-btn\",\n          children: [/*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 25\n          }, this), \" Nouvelle publication\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 17\n      }, this), loadingStates.posts ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Chargement des publications...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 21\n      }, this) : posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-posts\",\n        children: [/*#__PURE__*/_jsxDEV(FaComment, {\n          className: \"no-posts-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Aucune publication\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Partagez vos premiers moments avec la communaut\\xE9 !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/create-post\",\n          className: \"action-btn primary\",\n          children: \"Cr\\xE9er ma premi\\xE8re publication\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"posts-grid\",\n          children: paginatedPosts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-preview\",\n            children: [post.image && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:5000/uploads/${encodeURIComponent(post.image)}`,\n                alt: `Publication de ${(profileData === null || profileData === void 0 ? void 0 : profileData.name) || 'utilisateur'}`,\n                loading: \"lazy\",\n                decoding: \"async\",\n                onError: e => {\n                  e.target.style.display = 'none';\n                },\n                style: {\n                  aspectRatio: '16/9',\n                  objectFit: 'cover'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: post.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-stats\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaHeart, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 51\n                  }, this), \" \", post.likeCount || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaComment, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 51\n                  }, this), \" \", post.commentCount || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 37\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 25\n        }, this), totalPostsPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"pagination-btn\",\n            onClick: () => fetchUserPosts(postsPage - 1),\n            disabled: postsPage === 1,\n            children: /*#__PURE__*/_jsxDEV(FaChevronLeft, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pagination-info\",\n            children: [\"Page \", postsPage, \" sur \", totalPostsPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"pagination-btn\",\n            onClick: () => fetchUserPosts(postsPage + 1),\n            disabled: postsPage === totalPostsPages,\n            children: /*#__PURE__*/_jsxDEV(FaChevronRight, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 13\n    }, this);\n  };\n  const renderStatsTab = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stats-tab\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detailed-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Statistiques de jeu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Temps de jeu total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: \"24h 30m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Qu\\xEAtes compl\\xE9t\\xE9es\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: profileData.quests_completed || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Fragments collect\\xE9s\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: profileData.fragments || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Rang actuel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: profileData.rank || 'Débutant'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Statistiques sociales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Abonn\\xE9s\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: stats.followers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Abonnements\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: stats.following\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Publications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: stats.posts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Membre depuis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: new Date(profileData.created_at || Date.now()).toLocaleDateString('fr-FR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 472,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page\",\n    children: [notification.show && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification notification-${notification.type}`,\n      role: \"alert\",\n      \"aria-live\": \"polite\",\n      \"aria-atomic\": \"true\",\n      children: [notification.type === 'error' && /*#__PURE__*/_jsxDEV(FaExclamationCircle, {\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 55\n      }, this), notification.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"profile-header\",\n      role: \"banner\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-cover\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-avatar-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-avatar\",\n            role: \"img\",\n            \"aria-label\": `Photo de profil de ${profileData.name}`,\n            children: [profileData.profilePicture ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `http://localhost:5000/uploads/${encodeURIComponent(profileData.profilePicture)}`,\n              alt: `Photo de profil de ${profileData.name}`,\n              onError: e => {\n                e.target.style.display = 'none';\n                e.target.nextSibling.style.display = 'flex';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-placeholder\",\n              \"aria-label\": `Initiale de ${profileData.name}`,\n              children: ((_profileData$name = profileData.name) === null || _profileData$name === void 0 ? void 0 : _profileData$name.charAt(0).toUpperCase()) || '?'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"avatar-upload\",\n              htmlFor: \"avatar-upload-input\",\n              \"aria-label\": \"T\\xE9l\\xE9charger une photo de profil\",\n              children: [/*#__PURE__*/_jsxDEV(FaCamera, {\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"avatar-upload-input\",\n                type: \"file\",\n                accept: \"image/jpeg,image/png,image/gif,image/webp\",\n                onChange: handleProfilePictureUpload,\n                style: {\n                  display: 'none'\n                },\n                \"aria-describedby\": \"upload-help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                id: \"upload-help\",\n                className: \"sr-only\",\n                children: \"Formats accept\\xE9s: JPG, PNG, GIF, WebP. Taille maximale: 5MB.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              id: \"profile-name\",\n              children: profileData.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"username\",\n              \"aria-label\": `Nom d'utilisateur: ${profileData.username}`,\n              children: [\"@\", profileData.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"account-type\",\n              \"aria-label\": \"Type de compte\",\n              children: [\"Compte \", profileData.accountType === 'child' ? 'Enfant' : profileData.accountType === 'parent' ? 'Parent' : 'Professeur']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-quick-stats\",\n              role: \"list\",\n              \"aria-label\": \"Statistiques rapides\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                role: \"listitem\",\n                \"aria-label\": `Niveau ${profileData.level || 1}`,\n                children: [\"Niveau \", profileData.level || 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                role: \"listitem\",\n                \"aria-label\": `${profileData.totalXP || 0} points d'expérience`,\n                children: [profileData.totalXP || 0, \" XP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                role: \"listitem\",\n                \"aria-label\": `${profileData.fragments || 0} fragments collectés`,\n                children: [profileData.fragments || 0, \" fragments\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                role: \"listitem\",\n                \"aria-label\": `${stats.followers} abonnés`,\n                children: [stats.followers, \" abonn\\xE9s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-tabs\",\n        role: \"tablist\",\n        \"aria-label\": \"Sections du profil\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'overview' ? 'active' : ''}`,\n          onClick: () => setActiveTab('overview'),\n          role: \"tab\",\n          \"aria-selected\": activeTab === 'overview',\n          \"aria-controls\": \"overview-panel\",\n          id: \"overview-tab\",\n          tabIndex: activeTab === 'overview' ? 0 : -1,\n          onKeyDown: e => {\n            if (e.key === 'ArrowRight') {\n              var _document$getElementB;\n              setActiveTab('posts');\n              (_document$getElementB = document.getElementById('posts-tab')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.focus();\n            } else if (e.key === 'ArrowLeft') {\n              var _document$getElementB2;\n              setActiveTab('stats');\n              (_document$getElementB2 = document.getElementById('stats-tab')) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.focus();\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(FaUser, {\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 25\n          }, this), \" Vue d'ensemble\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'posts' ? 'active' : ''}`,\n          onClick: () => setActiveTab('posts'),\n          role: \"tab\",\n          \"aria-selected\": activeTab === 'posts',\n          \"aria-controls\": \"posts-panel\",\n          id: \"posts-tab\",\n          tabIndex: activeTab === 'posts' ? 0 : -1,\n          onKeyDown: e => {\n            if (e.key === 'ArrowRight') {\n              var _document$getElementB3;\n              setActiveTab('stats');\n              (_document$getElementB3 = document.getElementById('stats-tab')) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.focus();\n            } else if (e.key === 'ArrowLeft') {\n              var _document$getElementB4;\n              setActiveTab('overview');\n              (_document$getElementB4 = document.getElementById('overview-tab')) === null || _document$getElementB4 === void 0 ? void 0 : _document$getElementB4.focus();\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(FaComment, {\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 25\n          }, this), \" Publications\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'stats' ? 'active' : ''}`,\n          onClick: () => setActiveTab('stats'),\n          role: \"tab\",\n          \"aria-selected\": activeTab === 'stats',\n          \"aria-controls\": \"stats-panel\",\n          id: \"stats-tab\",\n          tabIndex: activeTab === 'stats' ? 0 : -1,\n          onKeyDown: e => {\n            if (e.key === 'ArrowRight') {\n              var _document$getElementB5;\n              setActiveTab('overview');\n              (_document$getElementB5 = document.getElementById('overview-tab')) === null || _document$getElementB5 === void 0 ? void 0 : _document$getElementB5.focus();\n            } else if (e.key === 'ArrowLeft') {\n              var _document$getElementB6;\n              setActiveTab('posts');\n              (_document$getElementB6 = document.getElementById('posts-tab')) === null || _document$getElementB6 === void 0 ? void 0 : _document$getElementB6.focus();\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(FaTrophy, {\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 25\n          }, this), \" Statistiques\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-content\",\n        children: [activeTab === 'overview' && /*#__PURE__*/_jsxDEV(\"div\", {\n          role: \"tabpanel\",\n          id: \"overview-panel\",\n          \"aria-labelledby\": \"overview-tab\",\n          children: renderOverviewTab()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 25\n        }, this), activeTab === 'posts' && /*#__PURE__*/_jsxDEV(\"div\", {\n          role: \"tabpanel\",\n          id: \"posts-panel\",\n          \"aria-labelledby\": \"posts-tab\",\n          children: renderPostsTab()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 25\n        }, this), activeTab === 'stats' && /*#__PURE__*/_jsxDEV(\"div\", {\n          role: \"tabpanel\",\n          id: \"stats-panel\",\n          \"aria-labelledby\": \"stats-tab\",\n          children: renderStatsTab()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 524,\n    columnNumber: 9\n  }, this);\n}\n_s(Profile, \"ANLOlDWNQLxka0HO0tBxipqlTNQ=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","axios","useAuth","useNavigate","Link","FaUser","FaEdit","FaCamera","FaTrophy","FaStar","FaGamepad","FaUserPlus","FaUsers","FaHeart","FaComment","FaGem","FaChevronLeft","FaChevronRight","FaExclamationCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","_profileData$name","profileData","setProfileData","posts","setPosts","stats","setStats","followers","following","loading","setLoading","activeTab","setActiveTab","notification","setNotification","show","message","type","postsPage","setPostsPage","totalPostsPages","setTotalPostsPages","achievements","setAchievements","loadingStates","setLoadingStates","profile","POSTS_PER_PAGE","user","token","navigate","fetchAllData","Promise","all","fetchProfileData","fetchUserPosts","fetchUserStats","fetchAchievements","error","console","showNotification","setTimeout","prev","response","get","headers","Authorization","data","page","id","params","limit","totalPages","Math","ceil","length","followersRes","followingRes","postsRes","catch","count","handleProfilePictureUpload","event","file","target","files","size","allowedTypes","includes","formData","FormData","append","put","SkeletonLoader","className","children","fileName","_jsxFileName","lineNumber","columnNumber","renderOverviewTab","role","level","xpToNextLevel","undefined","currentLevelXP","nextLevelXP","style","width","totalXP","fragments","quests_completed","slice","map","achievement","icon","name","description","Date","earned_at","toLocaleDateString","to","accountType","renderPostsTab","startIndex","paginatedPosts","post","image","src","encodeURIComponent","alt","decoding","onError","e","display","aspectRatio","objectFit","content","likeCount","commentCount","onClick","disabled","renderStatsTab","rank","created_at","now","profilePicture","nextSibling","charAt","toUpperCase","htmlFor","accept","onChange","username","tabIndex","onKeyDown","key","_document$getElementB","document","getElementById","focus","_document$getElementB2","_document$getElementB3","_document$getElementB4","_document$getElementB5","_document$getElementB6","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Documents/GitHub/msa/frontend/src/pages/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport {\r\n    FaUser,\r\n    FaEdit,\r\n    FaCamera,\r\n    FaTrophy,\r\n    FaStar,\r\n    FaGamepad,\r\n    FaUserPlus,\r\n    FaUsers,\r\n    FaHeart,\r\n    FaComment,\r\n    FaGem,\r\n    FaChevronLeft,\r\n    FaChevronRight,\r\n    FaExclamationCircle\r\n} from 'react-icons/fa';\r\nimport './Profile.css';\r\n\r\nfunction Profile() {\r\n    const [profileData, setProfileData] = useState(null);\r\n    const [posts, setPosts] = useState([]);\r\n    const [stats, setStats] = useState({\r\n        followers: 0,\r\n        following: 0,\r\n        posts: 0\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeTab, setActiveTab] = useState('overview'); // overview, posts, stats\r\n    const [notification, setNotification] = useState({ show: false, message: '', type: 'info' });\r\n    const [postsPage, setPostsPage] = useState(1);\r\n    const [totalPostsPages, setTotalPostsPages] = useState(1);\r\n    const [achievements, setAchievements] = useState([]);\r\n    const [loadingStates, setLoadingStates] = useState({\r\n        profile: true,\r\n        posts: true,\r\n        stats: true,\r\n        achievements: true\r\n    });\r\n    const POSTS_PER_PAGE = 6;\r\n\r\n    const { user, token } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            navigate('/connexion');\r\n            return;\r\n        }\r\n        \r\n        // Fetch all data in parallel\r\n        const fetchAllData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                await Promise.all([\r\n                    fetchProfileData(),\r\n                    fetchUserPosts(),\r\n                    fetchUserStats(),\r\n                    fetchAchievements()\r\n                ]);\r\n            } catch (error) {\r\n                console.error('Error fetching profile data:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        \r\n        fetchAllData();\r\n    }, [user, token, navigate]);\r\n\r\n    const showNotification = useCallback((message, type = 'info') => {\r\n        setNotification({ show: true, message, type });\r\n        setTimeout(() => {\r\n            setNotification({ show: false, message: '', type: 'info' });\r\n        }, 3000);\r\n    }, []);\r\n\r\n    const fetchProfileData = async () => {\r\n        setLoadingStates(prev => ({ ...prev, profile: true }));\r\n        try {\r\n            const response = await axios.get(\r\n                'http://localhost:5000/api/auth/me',\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }\r\n            );\r\n            setProfileData(response.data);\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération du profil:', error);\r\n            showNotification('Erreur lors du chargement du profil', 'error');\r\n        } finally {\r\n            setLoadingStates(prev => ({ ...prev, profile: false }));\r\n        }\r\n    };\r\n\r\n    const fetchUserPosts = async (page = 1) => {\r\n        setLoadingStates(prev => ({ ...prev, posts: true }));\r\n        try {\r\n            const response = await axios.get(\r\n                `http://localhost:5000/api/posts/user/${user.id}`,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` },\r\n                    params: {\r\n                        page,\r\n                        limit: POSTS_PER_PAGE\r\n                    }\r\n                }\r\n            );\r\n            setPosts(response.data.posts || response.data || []);\r\n            setTotalPostsPages(response.data.totalPages || Math.ceil((response.data.length || 0) / POSTS_PER_PAGE));\r\n            setPostsPage(page);\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des posts:', error);\r\n            setPosts([]);\r\n            showNotification('Erreur lors du chargement des publications', 'error');\r\n        } finally {\r\n            setLoadingStates(prev => ({ ...prev, posts: false }));\r\n        }\r\n    };\r\n\r\n    const fetchUserStats = async () => {\r\n        setLoadingStates(prev => ({ ...prev, stats: true }));\r\n        try {\r\n            const [followersRes, followingRes, postsRes] = await Promise.all([\r\n                axios.get('http://localhost:5000/api/auth/followers', {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }),\r\n                axios.get('http://localhost:5000/api/auth/following', {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }),\r\n                axios.get(`http://localhost:5000/api/posts/user/${user.id}/count`, {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }).catch(() => ({ data: { count: 0 } }))\r\n            ]);\r\n\r\n            setStats({\r\n                followers: followersRes.data.length || 0,\r\n                following: followingRes.data.length || 0,\r\n                posts: postsRes.data.count || posts.length || 0\r\n            });\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des statistiques:', error);\r\n            setStats({ followers: 0, following: 0, posts: 0 });\r\n            showNotification('Erreur lors du chargement des statistiques', 'error');\r\n        } finally {\r\n            setLoadingStates(prev => ({ ...prev, stats: false }));\r\n        }\r\n    };\r\n\r\n    const fetchAchievements = async () => {\r\n        setLoadingStates(prev => ({ ...prev, achievements: true }));\r\n        try {\r\n            const response = await axios.get(\r\n                `http://localhost:5000/api/achievements/user/${user.id}`,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }\r\n            );\r\n            setAchievements(response.data || []);\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des accomplissements:', error);\r\n            setAchievements([]);\r\n        } finally {\r\n            setLoadingStates(prev => ({ ...prev, achievements: false }));\r\n        }\r\n    };\r\n\r\n    const handleProfilePictureUpload = async (event) => {\r\n        const file = event.target.files[0];\r\n        if (!file) return;\r\n\r\n        // Validate file size (max 5MB)\r\n        if (file.size > 5 * 1024 * 1024) {\r\n            showNotification('La taille du fichier ne doit pas dépasser 5MB', 'error');\r\n            return;\r\n        }\r\n\r\n        // Validate file type\r\n        const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\r\n        if (!allowedTypes.includes(file.type)) {\r\n            showNotification('Format de fichier non supporté. Utilisez JPG, PNG, GIF ou WebP', 'error');\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append('profilePicture', file);\r\n\r\n        try {\r\n            showNotification('Téléchargement en cours...', 'info');\r\n            \r\n            await axios.put(\r\n                'http://localhost:5000/api/auth/me/profile-picture',\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                        'Content-Type': 'multipart/form-data'\r\n                    }\r\n                }\r\n            );\r\n\r\n            // Mettre à jour les données du profil\r\n            await fetchProfileData();\r\n            showNotification('Photo de profil mise à jour avec succès!', 'success');\r\n        } catch (error) {\r\n            console.error('Erreur lors de la mise à jour de la photo:', error);\r\n            showNotification('Erreur lors de la mise à jour de la photo', 'error');\r\n        }\r\n    };\r\n\r\n    // Skeleton loader component\r\n    const SkeletonLoader = () => (\r\n        <div className=\"profile-page\">\r\n            <div className=\"skeleton-header\">\r\n                <div className=\"skeleton-avatar-section\">\r\n                    <div className=\"skeleton skeleton-avatar\"></div>\r\n                    <div className=\"skeleton-info\">\r\n                        <div className=\"skeleton skeleton-text large\"></div>\r\n                        <div className=\"skeleton skeleton-text medium\"></div>\r\n                        <div className=\"skeleton skeleton-text small\"></div>\r\n                        <div className=\"skeleton-stats\">\r\n                            <div className=\"skeleton skeleton-stat\"></div>\r\n                            <div className=\"skeleton skeleton-stat\"></div>\r\n                            <div className=\"skeleton skeleton-stat\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"skeleton-content\">\r\n                <div className=\"skeleton-tabs\">\r\n                    <div className=\"skeleton skeleton-tab\"></div>\r\n                    <div className=\"skeleton skeleton-tab\"></div>\r\n                    <div className=\"skeleton skeleton-tab\"></div>\r\n                </div>\r\n                \r\n                <div className=\"skeleton-cards-grid\">\r\n                    <div className=\"skeleton skeleton-card large\"></div>\r\n                    <div className=\"skeleton skeleton-card\"></div>\r\n                    <div className=\"skeleton skeleton-card\"></div>\r\n                    <div className=\"skeleton skeleton-card\"></div>\r\n                    <div className=\"skeleton skeleton-card\"></div>\r\n                </div>\r\n                \r\n                <div className=\"skeleton skeleton-achievements\"></div>\r\n                \r\n                <div className=\"skeleton-actions\">\r\n                    <div className=\"skeleton skeleton-action\"></div>\r\n                    <div className=\"skeleton skeleton-action\"></div>\r\n                    <div className=\"skeleton skeleton-action\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    if (loading || !profileData) {\r\n        return <SkeletonLoader />;\r\n    }\r\n\r\n    const renderOverviewTab = () => (\r\n        <div className=\"overview-tab\">\r\n            <section className=\"profile-stats\" aria-label=\"Statistiques de jeu\">\r\n                <article className=\"stat-card\" role=\"article\" aria-labelledby=\"level-heading\">\r\n                    <div className=\"stat-icon\" aria-hidden=\"true\">\r\n                        <FaTrophy />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3 id=\"level-heading\">Niveau</h3>\r\n                        <p className=\"stat-value\" aria-label={`Niveau actuel: ${profileData.level || 1}`}>{profileData.level || 1}</p>\r\n                        {profileData.xpToNextLevel !== undefined && (\r\n                            <div className=\"level-progress\" aria-label=\"Progression vers le niveau suivant\">\r\n                                <div \r\n                                    className=\"progress-bar\" \r\n                                    role=\"progressbar\"\r\n                                    aria-valuenow={profileData.currentLevelXP || 0}\r\n                                    aria-valuemin=\"0\"\r\n                                    aria-valuemax={profileData.nextLevelXP || 1}\r\n                                    aria-label=\"Progression du niveau\"\r\n                                >\r\n                                    <div \r\n                                        className=\"progress-fill\" \r\n                                        style={{ \r\n                                            width: `${((profileData.currentLevelXP || 0) / (profileData.nextLevelXP || 1)) * 100}%` \r\n                                        }}\r\n                                    ></div>\r\n                                </div>\r\n                                <small className=\"progress-text\">\r\n                                    {profileData.xpToNextLevel || 0} XP jusqu'au prochain niveau\r\n                                </small>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </article>\r\n\r\n                <article className=\"stat-card\" role=\"article\" aria-labelledby=\"xp-heading\">\r\n                    <div className=\"stat-icon\" aria-hidden=\"true\">\r\n                        <FaStar />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3 id=\"xp-heading\">XP Total</h3>\r\n                        <p className=\"stat-value\" aria-label={`${profileData.totalXP || 0} points d'expérience au total`}>{profileData.totalXP || 0}</p>\r\n                    </div>\r\n                </article>\r\n\r\n                <article className=\"stat-card\" role=\"article\" aria-labelledby=\"fragments-heading\">\r\n                    <div className=\"stat-icon\" aria-hidden=\"true\">\r\n                        <FaGem />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3 id=\"fragments-heading\">Fragments</h3>\r\n                        <p className=\"stat-value\" aria-label={`${profileData.fragments || 0} fragments collectés`}>{profileData.fragments || 0}</p>\r\n                    </div>\r\n                </article>\r\n\r\n                <article className=\"stat-card\" role=\"article\" aria-labelledby=\"quests-heading\">\r\n                    <div className=\"stat-icon\" aria-hidden=\"true\">\r\n                        <FaGamepad />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3 id=\"quests-heading\">Quêtes</h3>\r\n                        <p className=\"stat-value\" aria-label={`${profileData.quests_completed || 0} quêtes complétées`}>{profileData.quests_completed || 0}</p>\r\n                    </div>\r\n                </article>\r\n\r\n                <article className=\"stat-card\" role=\"article\" aria-labelledby=\"followers-heading\">\r\n                    <div className=\"stat-icon\" aria-hidden=\"true\">\r\n                        <FaUsers />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3 id=\"followers-heading\">Abonnés</h3>\r\n                        <p className=\"stat-value\" aria-label={`${stats.followers} abonnés`}>{stats.followers}</p>\r\n                    </div>\r\n                </article>\r\n            </section>\r\n\r\n            <section className=\"recent-achievements\" aria-labelledby=\"achievements-heading\">\r\n                <h3 id=\"achievements-heading\">Derniers accomplissements</h3>\r\n                {loadingStates.achievements ? (\r\n                    <div className=\"loading-section\">\r\n                        <div className=\"spinner-small\"></div>\r\n                        <span>Chargement des accomplissements...</span>\r\n                    </div>\r\n                ) : achievements.length > 0 ? (\r\n                    <div className=\"achievements-list\">\r\n                        {achievements.slice(0, 3).map((achievement) => (\r\n                            <div key={achievement.id} className=\"achievement-item\">\r\n                                <div className=\"achievement-icon\">{achievement.icon || '🏆'}</div>\r\n                                <div className=\"achievement-details\">\r\n                                    <h4>{achievement.name}</h4>\r\n                                    <p>{achievement.description}</p>\r\n                                    <small>{new Date(achievement.earned_at).toLocaleDateString('fr-FR')}</small>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"no-achievements\" role=\"status\" aria-label=\"Aucun accomplissement\">\r\n                        <p>Aucun accomplissement pour le moment. Continue tes quêtes!</p>\r\n                    </div>\r\n                )}\r\n            </section>\r\n\r\n            <nav className=\"profile-actions\" aria-label=\"Actions du profil\">\r\n                <Link to=\"/modifier-profil\" className=\"action-btn primary\" aria-label=\"Modifier les informations du profil\">\r\n                    <FaEdit aria-hidden=\"true\" /> Modifier le profil\r\n                </Link>\r\n\r\n                {user.accountType === 'parent' && (\r\n                    <Link to=\"/parent-dashboard\" className=\"action-btn secondary\" aria-label=\"Accéder au tableau de bord parental\">\r\n                        <FaUserPlus aria-hidden=\"true\" /> Gestion Enfants\r\n                    </Link>\r\n                )}\r\n\r\n                <Link to=\"/reseau\" className=\"action-btn secondary\" aria-label=\"Accéder au réseau social\">\r\n                    <FaUsers aria-hidden=\"true\" /> Réseau Social\r\n                </Link>\r\n            </nav>\r\n        </div>\r\n    );\r\n\r\n    const renderPostsTab = () => {\r\n        const startIndex = (postsPage - 1) * POSTS_PER_PAGE;\r\n        const paginatedPosts = posts.slice(startIndex, startIndex + POSTS_PER_PAGE);\r\n\r\n        return (\r\n            <div className=\"posts-tab\">\r\n                <div className=\"posts-header\">\r\n                    <h3>Mes publications ({stats.posts})</h3>\r\n                    <Link to=\"/create-post\" className=\"create-post-btn\">\r\n                        <FaEdit /> Nouvelle publication\r\n                    </Link>\r\n                </div>\r\n\r\n                {loadingStates.posts ? (\r\n                    <div className=\"loading-section\">\r\n                        <div className=\"spinner-small\"></div>\r\n                        <span>Chargement des publications...</span>\r\n                    </div>\r\n                ) : posts.length === 0 ? (\r\n                <div className=\"no-posts\">\r\n                    <FaComment className=\"no-posts-icon\" />\r\n                    <h4>Aucune publication</h4>\r\n                    <p>Partagez vos premiers moments avec la communauté !</p>\r\n                    <Link to=\"/create-post\" className=\"action-btn primary\">\r\n                        Créer ma première publication\r\n                    </Link>\r\n                </div>\r\n                ) : (\r\n                    <>\r\n                        <div className=\"posts-grid\">\r\n                            {paginatedPosts.map((post) => (\r\n                                <div key={post.id} className=\"post-preview\">\r\n                                    {post.image && (\r\n                                        <div className=\"post-image\">\r\n                                            <img\r\n                                                src={`http://localhost:5000/uploads/${encodeURIComponent(post.image)}`}\r\n                                                alt={`Publication de ${profileData?.name || 'utilisateur'}`}\r\n                                                loading=\"lazy\"\r\n                                                decoding=\"async\"\r\n                                                onError={(e) => {\r\n                                                    e.target.style.display = 'none';\r\n                                                }}\r\n                                                style={{\r\n                                                    aspectRatio: '16/9',\r\n                                                    objectFit: 'cover'\r\n                                                }}\r\n                                            />\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"post-content\">\r\n                                        <p>{post.content}</p>\r\n                                        <div className=\"post-stats\">\r\n                                            <span><FaHeart /> {post.likeCount || 0}</span>\r\n                                            <span><FaComment /> {post.commentCount || 0}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        \r\n                        {totalPostsPages > 1 && (\r\n                            <div className=\"pagination\">\r\n                                <button\r\n                                    className=\"pagination-btn\"\r\n                                    onClick={() => fetchUserPosts(postsPage - 1)}\r\n                                    disabled={postsPage === 1}\r\n                                >\r\n                                    <FaChevronLeft />\r\n                                </button>\r\n                                <span className=\"pagination-info\">\r\n                                    Page {postsPage} sur {totalPostsPages}\r\n                                </span>\r\n                                <button\r\n                                    className=\"pagination-btn\"\r\n                                    onClick={() => fetchUserPosts(postsPage + 1)}\r\n                                    disabled={postsPage === totalPostsPages}\r\n                                >\r\n                                    <FaChevronRight />\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderStatsTab = () => (\r\n        <div className=\"stats-tab\">\r\n            <div className=\"detailed-stats\">\r\n                <div className=\"stats-section\">\r\n                    <h3>Statistiques de jeu</h3>\r\n                    <div className=\"stats-grid\">\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Temps de jeu total</span>\r\n                            <span className=\"stat-value\">24h 30m</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Quêtes complétées</span>\r\n                            <span className=\"stat-value\">{profileData.quests_completed || 0}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Fragments collectés</span>\r\n                            <span className=\"stat-value\">{profileData.fragments || 0}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Rang actuel</span>\r\n                            <span className=\"stat-value\">{profileData.rank || 'Débutant'}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stats-section\">\r\n                    <h3>Statistiques sociales</h3>\r\n                    <div className=\"stats-grid\">\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Abonnés</span>\r\n                            <span className=\"stat-value\">{stats.followers}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Abonnements</span>\r\n                            <span className=\"stat-value\">{stats.following}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Publications</span>\r\n                            <span className=\"stat-value\">{stats.posts}</span>\r\n                        </div>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"stat-label\">Membre depuis</span>\r\n                            <span className=\"stat-value\">\r\n                                {new Date(profileData.created_at || Date.now()).toLocaleDateString('fr-FR')}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"profile-page\">\r\n            {notification.show && (\r\n                <div \r\n                    className={`notification notification-${notification.type}`}\r\n                    role=\"alert\"\r\n                    aria-live=\"polite\"\r\n                    aria-atomic=\"true\"\r\n                >\r\n                    {notification.type === 'error' && <FaExclamationCircle aria-hidden=\"true\" />}\r\n                    {notification.message}\r\n                </div>\r\n            )}\r\n            <header className=\"profile-header\" role=\"banner\">\r\n                <div className=\"profile-cover\">\r\n                    <div className=\"profile-avatar-section\">\r\n                        <div className=\"profile-avatar\" role=\"img\" aria-label={`Photo de profil de ${profileData.name}`}>\r\n                            {profileData.profilePicture ? (\r\n                                <img\r\n                                    src={`http://localhost:5000/uploads/${encodeURIComponent(profileData.profilePicture)}`}\r\n                                    alt={`Photo de profil de ${profileData.name}`}\r\n                                    onError={(e) => {\r\n                                        e.target.style.display = 'none';\r\n                                        e.target.nextSibling.style.display = 'flex';\r\n                                    }}\r\n                                />\r\n                            ) : (\r\n                                <div className=\"avatar-placeholder\" aria-label={`Initiale de ${profileData.name}`}>\r\n                                    {profileData.name?.charAt(0).toUpperCase() || '?'}\r\n                                </div>\r\n                            )}\r\n                            <label className=\"avatar-upload\" htmlFor=\"avatar-upload-input\" aria-label=\"Télécharger une photo de profil\">\r\n                                <FaCamera aria-hidden=\"true\" />\r\n                                <input\r\n                                    id=\"avatar-upload-input\"\r\n                                    type=\"file\"\r\n                                    accept=\"image/jpeg,image/png,image/gif,image/webp\"\r\n                                    onChange={handleProfilePictureUpload}\r\n                                    style={{ display: 'none' }}\r\n                                    aria-describedby=\"upload-help\"\r\n                                />\r\n                                <span id=\"upload-help\" className=\"sr-only\">\r\n                                    Formats acceptés: JPG, PNG, GIF, WebP. Taille maximale: 5MB.\r\n                                </span>\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div className=\"profile-info\">\r\n                            <h1 id=\"profile-name\">{profileData.name}</h1>\r\n                            <p className=\"username\" aria-label={`Nom d'utilisateur: ${profileData.username}`}>@{profileData.username}</p>\r\n                            <p className=\"account-type\" aria-label=\"Type de compte\">\r\n                                Compte {profileData.accountType === 'child' ? 'Enfant' :\r\n                                profileData.accountType === 'parent' ? 'Parent' : 'Professeur'}\r\n                            </p>\r\n                            <div className=\"profile-quick-stats\" role=\"list\" aria-label=\"Statistiques rapides\">\r\n                                <span role=\"listitem\" aria-label={`Niveau ${profileData.level || 1}`}>Niveau {profileData.level || 1}</span>\r\n                                <span aria-hidden=\"true\">•</span>\r\n                                <span role=\"listitem\" aria-label={`${profileData.totalXP || 0} points d'expérience`}>{profileData.totalXP || 0} XP</span>\r\n                                <span aria-hidden=\"true\">•</span>\r\n                                <span role=\"listitem\" aria-label={`${profileData.fragments || 0} fragments collectés`}>{profileData.fragments || 0} fragments</span>\r\n                                <span aria-hidden=\"true\">•</span>\r\n                                <span role=\"listitem\" aria-label={`${stats.followers} abonnés`}>{stats.followers} abonnés</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            <div className=\"profile-content\">\r\n                <div className=\"profile-tabs\" role=\"tablist\" aria-label=\"Sections du profil\">\r\n                    <button\r\n                        className={`tab-btn ${activeTab === 'overview' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('overview')}\r\n                        role=\"tab\"\r\n                        aria-selected={activeTab === 'overview'}\r\n                        aria-controls=\"overview-panel\"\r\n                        id=\"overview-tab\"\r\n                        tabIndex={activeTab === 'overview' ? 0 : -1}\r\n                        onKeyDown={(e) => {\r\n                            if (e.key === 'ArrowRight') {\r\n                                setActiveTab('posts');\r\n                                document.getElementById('posts-tab')?.focus();\r\n                            } else if (e.key === 'ArrowLeft') {\r\n                                setActiveTab('stats');\r\n                                document.getElementById('stats-tab')?.focus();\r\n                            }\r\n                        }}\r\n                    >\r\n                        <FaUser aria-hidden=\"true\" /> Vue d'ensemble\r\n                    </button>\r\n                    <button\r\n                        className={`tab-btn ${activeTab === 'posts' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('posts')}\r\n                        role=\"tab\"\r\n                        aria-selected={activeTab === 'posts'}\r\n                        aria-controls=\"posts-panel\"\r\n                        id=\"posts-tab\"\r\n                        tabIndex={activeTab === 'posts' ? 0 : -1}\r\n                        onKeyDown={(e) => {\r\n                            if (e.key === 'ArrowRight') {\r\n                                setActiveTab('stats');\r\n                                document.getElementById('stats-tab')?.focus();\r\n                            } else if (e.key === 'ArrowLeft') {\r\n                                setActiveTab('overview');\r\n                                document.getElementById('overview-tab')?.focus();\r\n                            }\r\n                        }}\r\n                    >\r\n                        <FaComment aria-hidden=\"true\" /> Publications\r\n                    </button>\r\n                    <button\r\n                        className={`tab-btn ${activeTab === 'stats' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('stats')}\r\n                        role=\"tab\"\r\n                        aria-selected={activeTab === 'stats'}\r\n                        aria-controls=\"stats-panel\"\r\n                        id=\"stats-tab\"\r\n                        tabIndex={activeTab === 'stats' ? 0 : -1}\r\n                        onKeyDown={(e) => {\r\n                            if (e.key === 'ArrowRight') {\r\n                                setActiveTab('overview');\r\n                                document.getElementById('overview-tab')?.focus();\r\n                            } else if (e.key === 'ArrowLeft') {\r\n                                setActiveTab('posts');\r\n                                document.getElementById('posts-tab')?.focus();\r\n                            }\r\n                        }}\r\n                    >\r\n                        <FaTrophy aria-hidden=\"true\" /> Statistiques\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"tab-content\">\r\n                    {activeTab === 'overview' && (\r\n                        <div role=\"tabpanel\" id=\"overview-panel\" aria-labelledby=\"overview-tab\">\r\n                            {renderOverviewTab()}\r\n                        </div>\r\n                    )}\r\n                    {activeTab === 'posts' && (\r\n                        <div role=\"tabpanel\" id=\"posts-panel\" aria-labelledby=\"posts-tab\">\r\n                            {renderPostsTab()}\r\n                        </div>\r\n                    )}\r\n                    {activeTab === 'stats' && (\r\n                        <div role=\"tabpanel\" id=\"stats-panel\" aria-labelledby=\"stats-tab\">\r\n                            {renderStatsTab()}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}